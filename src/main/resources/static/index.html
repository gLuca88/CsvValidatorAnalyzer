<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>CsvValidatorAnalyzer</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link
	href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/darkly/bootstrap.min.css"
	rel="stylesheet">
<link href="style.css" rel="stylesheet">
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container-fluid">
			<a class="navbar-brand" href="#">CsvValidatorAnalyzer</a>
			<button id="logoutBtn" class="btn btn-outline-danger btn-sm ms-auto">Logout</button>
		</div>
	</nav>

	<div class="container mt-4">
		<ul class="nav nav-tabs" id="dashboardTabs" role="tablist">
			<li class="nav-item"><a class="nav-link active" id="analyze-tab"
				data-bs-toggle="tab" href="#analyze" role="tab">ğŸ“… Analizza CSV</a></li>
			<li class="nav-item"><a class="nav-link" id="db-tab"
				data-bs-toggle="tab" href="#db" role="tab">ğŸ› ï¸ Creazione CSV da
					DB</a></li>
			<li class="nav-item"><a class="nav-link" id="merge-tab"
				data-bs-toggle="tab" href="#merge" role="tab">ğŸ”— Merge CSV</a></li>
			<li class="nav-item"><a class="nav-link" id="admin-tab"
				data-bs-toggle="tab" href="#admin" role="tab" style="display: none">ğŸ”
					Admin: Registra DB</a></li>
			<li class="nav-item"><a class="nav-link" id="users-tab"
				data-bs-toggle="tab" href="#users" role="tab" style="display: none">ğŸ‘¥
					Gestione Utenti</a></li>
		</ul>

		<div class="tab-content mt-3" id="dashboardContent">
			<div class="tab-pane fade show active" id="analyze" role="tabpanel">
				<h4>ğŸ“… Carica e Analizza CSV</h4>
				<form id="analyzeForm">
					<input type="file" class="form-control" id="csvFileAnalyze"
						accept=".csv" multiple required>
					<button type="submit" class="btn btn-primary mt-2">Analizza</button>
				</form>
				<div id="analyzeResult" class="mt-3"></div>
			</div>

			<div class="tab-pane fade" id="db" role="tabpanel">
				<h4>ğŸ› ï¸ Creazione CSV da Database</h4>
				<form id="dbForm">
					<div class="mb-3">
						<label for="dbAlias">Seleziona database registrato</label> <select
							id="dbAlias" class="form-select" required></select>
					</div>
					<div class="mb-3">
						<label for="dbTable">Nome tabella</label> <select id="dbTable"
							class="form-select" required></select>
					</div>
					<button type="submit" class="btn btn-success">Genera CSV</button>
				</form>
				<div id="dbResult" class="mt-3"></div>
			</div>

			<div class="tab-pane fade" id="merge" role="tabpanel">
				<h4>ğŸ”— Merge di piÃ¹ file CSV</h4>
				<form id="mergeForm">
					<input type="file" class="form-control" id="csvFilesMerge" multiple>
					<div id="mergeFileList" class="mb-3 text-info small"></div>
					<input type="text" class="form-control" id="mergeKey"
						placeholder="es. id,email" required>
					<button type="submit" class="btn btn-warning mt-2">Unisci</button>
				</form>
				<div id="mergeResult" class="mt-3"></div>
			</div>

			<div class="tab-pane fade" id="admin" role="tabpanel">
				<h4>ğŸ” Registra un nuovo alias DB</h4>
				<form id="adminRegisterForm">
					<input type="text" class="form-control mb-2" id="alias"
						placeholder="Alias" required> <input type="text"
						class="form-control mb-2" id="url" placeholder="URL JDBC" required>
					<input type="text" class="form-control mb-2" id="user"
						placeholder="Username" required> <input type="password"
						class="form-control mb-2" id="pass" placeholder="Password"
						required>
					<button type="submit" class="btn btn-danger">Registra DB</button>
				</form>
				<div id="adminRegisterResult" class="mt-3"></div>
			</div>

			<div class="tab-pane fade" id="users" role="tabpanel">
				<h4>ğŸ‘¥ Gestione Utenti</h4>
				<form id="userRegisterForm" class="mb-3">
					<input type="text" class="form-control mb-2" id="newUsername"
						placeholder="Username" required> <input type="password"
						class="form-control mb-2" id="newPassword" placeholder="Password"
						required> <select class="form-select mb-2" id="newRole"
						required>
						<option value="">-- seleziona un ruolo --</option>
						<option value="ADMIN">ADMIN</option>
						<option value="EMPLOYEE">EMPLOYEE</option>
					</select>
					<button type="submit" class="btn btn-primary">Registra
						Utente</button>
				</form>

				<div id="userRegisterResult" class="mt-3"></div>

				<hr>
				<h5>Utenti registrati</h5>
				<table class="table table-sm table-bordered mt-2" id="userTable">
					<thead class="table-dark">
						<tr>
							<th>Username</th>
							<th>Ruolo</th>
							<th>Azioni</th>
						</tr>
					</thead>
					<tbody></tbody>
				</table>
			</div>
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script src="main.js"></script>
</body>
</html>


